{% extends "base.html" %} 
{%load static%} 
{% load bootstrap5 %}
{% block content %}


<h1>Your Profile</h1>

<div class="profile-container">
    <!-- User Profile Section -->
    <div class="profile-section">
        <h2>Account Details</h2>
        <form method="POST">
            {% csrf_token %}
            {{ profile_form.as_p }}
            <button type="submit">Update Account</button>
        </form>
    </div>

    <!-- Shipping Address Section -->
    <div class="address-section">
        <h2>Shipping Address</h2>
        <form method="POST">
            {% csrf_token %}
            {{ shipping_form.as_p }}
            <button type="submit">Update Shipping Address</button>
        </form>
    </div>

    <!-- Billing Address Section -->
    <div class="address-section">
        <h2>Billing Address</h2>
        <form method="POST">
            {% csrf_token %}
            {{ billing_form.as_p }}
            <button type="submit">Update Billing Address</button>
        </form>
    </div>

    <!-- Orders Section -->
    <div class="orders-section">
        <h2>Your Orders</h2>
        {% if orders %}
            <ul>
                {% for order in orders %}
                    <li>
                        <strong>Order ID:</strong> {{ order.id }}<br>
                        <strong>Status:</strong> {{ order.status|capfirst }}<br>
                        <strong>Total Price:</strong> ${{ order.total_price }}<br>
                        <strong>Created At:</strong> {{ order.created_at }}<br>
                        <a href="{% url 'order_detail' order.id %}">View Order</a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You have no orders yet.</p>
        {% endif %}
    </div>
</div>



{% endblock %}